<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Добавить новую игру</title>
    <meta charset="UTF-8"/>
</head>
<body>
<h1>Добавить новую игру</h1>

<form th:action="@{/games/new}" th:object="${game}" method="post" enctype="multipart/form-data">
    <!-- Название -->
    <div>
        <label for="name">Название</label>
        <input type="text" id="name" th:field="*{name}" />
        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <!-- Разработчик -->
    <div>
        <label for="developer">Разработчик</label>
        <input type="text" id="developer" th:field="*{developer}" />
        <div th:if="${#fields.hasErrors('developer')}" th:errors="*{developer}"></div>
    </div>

    <!-- Жанр -->
    <div>
        <label for="genre">Жанр</label>
        <input type="text" id="genre" th:field="*{genre}" />
        <div th:if="${#fields.hasErrors('genre')}" th:errors="*{genre}"></div>
    </div>

    <!-- Год выпуска -->
    <div>
        <label for="year">Год выпуска</label>
        <input type="number" id="year" th:field="*{year}" />
        <div th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></div>
    </div>

    <!-- Вес файла -->
    <div>
        <label for="fileSize">Вес файла (МБ)</label>
        <input type="number" step="0.1" id="fileSize" th:field="*{fileSize}" />
        <div th:if="${#fields.hasErrors('fileSize')}" th:errors="*{fileSize}"></div>
    </div>

    <!-- Платформа -->
    <div>
        <label>Платформы</label>
        <div th:each="platform : ${platforms}">
            <label>
                <input type="checkbox" name="platformIds"
                th:value="${platform.id}">
                <span th:text="${platform.name}"></span>
            </label>
        </div>
    </div>

    <!-- Загрузка файла -->
    <div>
        <label for="file">Изображение</label>
        <input type="file" name="file" id="file" />
    </div>

    <br/>
    <button type="submit">Сохранить</button>
</form>

<br/>
<a th:href="@{/}">Вернуться к списку</a>

</body>
</html>
